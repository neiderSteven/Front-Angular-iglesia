<!--Tarjetas de edicion de iglesias -->
<div class="row">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-header bg-info">
                <h4 class="col-md-9 text-white">Iglesia</h4>
            </div>
            <div class="card-body">

                <form ngNativeValidate #f="ngForm" (ngSubmit)="guardar(f)">

                    <hr>
                    <div class="form-body">
                        <h3 class="box-title m-t-40">Informacion de la iglesia</h3>
                        <hr>

                        <div class="row p-t-20">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label">Nombre Iglesia</label>
                                    <input [(ngModel)]="iglesia.nombre" type="text" class="form-control" name="nombre"
                                        placeholder="Nombre de usuario" required>
                                </div>
                            </div>
                            <!--/span-->
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label">Direccion</label>
                                    <input [(ngModel)]="iglesia.direccion" id="direccion" type="text"
                                        class="form-control" name="direccion" placeholder="Direccion" required>
                                </div>
                            </div>
                            <!--/span-->
                        </div>
                        <!--/row-->
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label">Nombre Anciano</label>
                                    <input [(ngModel)]="iglesia.anciano" type="text" class="form-control" name="anciano"
                                        placeholder="Nombre de anciano" required>
                                </div>
                            </div>
                            <!--/span-->
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label">Telefono Anciano</label>
                                    <input [(ngModel)]="iglesia.telefono" type="text" class="form-control"
                                        name="telefono" placeholder="Telefono del anciano" required>
                                </div>
                            </div>
                            <!--/span-->
                        </div>
                        <!--/row-->

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label">Numero Miembros</label>
                                    <input [(ngModel)]="iglesia.numeroMiembros" type="text" class="form-control"
                                        name="numeroMiembros" placeholder="Numero de miembros" required>
                                </div>
                            </div>

                            <div *ngIf="botonVisitas" class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label">Referencia de iglesia</label>
                                    <input [(ngModel)]="iglesia._id" type="text" class="form-control"
                                        name="_id" placeholder="Referencia" disabled>
                                </div>
                            </div>
                        </div>
                        <!--..................MAPA....................-->
                        <div *ngIf="botonVisitas" class="col-md-12 m-2" style="text-align: center;">
                            <agm-map [latitude]="lat" [longitude]="lng">
                                <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
                            </agm-map>
                        </div>

                        <div class="form-actions m-3" style="text-align: center;">
                            <button *ngIf="!botonVisitas" type="submit"
                                class="btn btn-success btn-rounded mr-3 col-md-3">
                                <i class="fa fa-check"></i>
                                Guardar
                            </button>
                            <button *ngIf="botonVisitas" type="submit"
                                class="btn btn-success btn-rounded mr-3 col-md-3">
                                <i class="fa fa-save"></i>
                                Actualizar
                            </button>
                            <button *ngIf="botonPastor" routerLink='/iglesia' type="button"
                                class="btn btn-inverse btn-rounded mr-3 col-md-3">
                                <i class="fa fa-reply"></i>
                                Volver
                            </button>
                            <button *ngIf="botonVisitas" [routerLink]="['/visitas', iglesia._id]" type="button"
                                class="btn waves-light btn-rounded btn-primary col-md-3">
                                <i class="fa fa-eye"></i>
                                Ver visitas
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!--..................IMAGEN....................-->
<div class="row d-inline">
    <div class="card col-md-12" style="text-align: center;">
        <div class="form-body col-md-12 m-2">
            <h3 class="box-title m-t-40 m-4">Foto de la iglesia</h3>
            <hr>
            <h4 class="card-title">Imagen de iglesia</h4>
            <h6 class="card-subtitle">Editar Imagen</h6>

            <img *ngIf="!imagenTemp" [src]="iglesia.img | imagen:'iglesia'" class="w150">
            <img *ngIf="imagenTemp" [src]="imagenTemp" class="w150">
            <br><br>
            <input style="width: 175px;" (change)="seleccionImgen($event.target.files[0])" type="file" name="file">

            <br>
            <br>
            <button (click)="cambiarImagen()" [disabled]="!imagenSubir" type="button"
                class="btn btn-block btn-success btn-rounded waves-effect waves-light m-r-10"><i class="fa fa-save"></i>
                Actualizar foto
            </button>
        </div>
    </div>
</div>